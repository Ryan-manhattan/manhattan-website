<ul id="chart"></ul>

<script>
  async function loadChart() {
    const res = await fetch('/api/getChartFromSupabase');
    const chart = await res.json();

    const container = document.getElementById('chart');
    container.innerHTML = chart.map(item =>
      `<li><strong>${item.rank}. ${item.title}</strong> - ${item.artist}</li>`
    ).join('');
  }

  loadChart();
</script>

<button onclick="saveChart()">차트 저장하기</button>

<script>
  async function saveChart() {
    const res = await fetch('/api/saveChartToSupabase', {
      method: 'POST',
    });
    const data = await res.json();
    alert(data.message);
  }
</script>
